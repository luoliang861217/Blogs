<!DOCTYPE HTML>
<html class="no-js">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>管理评论 - 独孤求败 - Powered by Typecho</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/grid.css">
    <link rel="stylesheet" href="css/style.css">
    <!--[if lt IE 9]>
<script src="http://localhost/admin/js/html5shiv.js?v=14.10.10"></script>
<script src="http://localhost/admin/js/respond.js?v=14.10.10"></script>
<![endif]-->
</head>
<body>
    <!--[if lt IE 9]>
        <div class="message error browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.</div>
    <![endif]-->
    <div class="typecho-head-nav clearfix" role="navigation">
        <nav id="typecho-nav-list">
            <ul class="root">
                <li class="parent"><a href="http://localhost/admin/index.php">控制台</a></dt></li>
                <ul class="child">
                    <li><a href="http://localhost/admin/index.php">概要</a></li>
                    <li><a href="http://localhost/admin/profile.php">个人设置</a></li>
                    <li><a href="http://localhost/admin/plugins.php">插件</a></li>
                    <li class="last"><a href="http://localhost/admin/themes.php">外观</a></li>
                </ul>
            </ul>
            <ul class="root">
                <li class="parent"><a href="http://localhost/admin/write-post.php">撰写</a></dt></li>
                <ul class="child">
                    <li><a href="http://localhost/admin/write-post.php">撰写文章</a></li>
                    <li class="last"><a href="http://localhost/admin/write-page.php">创建页面</a></li>
                </ul>
            </ul>
            <ul class="root focus">
                <li class="parent"><a href="http://localhost/admin/manage-posts.php">管理</a></dt></li>
                <ul class="child">
                    <li><a href="http://localhost/admin/manage-posts.php">文章</a></li>
                    <li><a href="http://localhost/admin/manage-pages.php">独立页面</a></li>
                    <li class="focus"><a href="http://localhost/admin/manage-comments.php">评论</a></li>
                    <li><a href="http://localhost/admin/manage-categories.php">分类</a></li>
                    <li><a href="http://localhost/admin/manage-tags.php">标签</a></li>
                    <li><a href="http://localhost/admin/manage-medias.php">文件</a></li>
                    <li class="last"><a href="http://localhost/admin/manage-users.php">用户</a></li>
                </ul>
            </ul>
            <ul class="root">
                <li class="parent"><a href="http://localhost/admin/options-general.php">设置</a></dt></li>
                <ul class="child">
                    <li><a href="http://localhost/admin/options-general.php">基本</a></li>
                    <li><a href="http://localhost/admin/options-discussion.php">评论</a></li>
                    <li><a href="http://localhost/admin/options-reading.php">阅读</a></li>
                    <li class="last"><a href="http://localhost/admin/options-permalink.php">永久链接</a></li>
                </ul>
            </ul>
        </nav>
        <div class="operate">
            <a title="最后登录: 昨天 20:30" href="http://localhost/admin/profile.php" class="author">asura</a><a class="exit" href="http://localhost/index.php/action/logout">登出</a><a href="http://localhost/">网站</a>
        </div>
    </div>

    <div class="main">
        <div class="body container">
            <div class="typecho-page-title">
                <h2>管理评论</h2>
            </div>
            <div class="row typecho-page-main" role="main">
                <div class="col-mb-12 typecho-list">
                    <div class="clearfix">
                        <ul class="typecho-option-tabs right">
                            <li class=""><a href="http://localhost/admin/manage-comments.php?__typecho_all_comments=on">所有</a></li>
                            <li class=" current"><a href="http://localhost/admin/manage-comments.php?__typecho_all_comments=off">我的</a></li>
                        </ul>
                        <ul class="typecho-option-tabs">
                            <li class="current"><a href="http://localhost/admin/manage-comments.php">已通过</a></li>
                            <li><a href="http://localhost/admin/manage-comments.php?status=waiting">待审核                                                </a></li>
                            <li><a href="http://localhost/admin/manage-comments.php?status=spam">垃圾                                                </a></li>
                        </ul>
                    </div>

                    <div class="typecho-list-operate clearfix">
                        <form method="get">
                            <div class="operate">
                                <label><i class="sr-only">全选</i><input type="checkbox" class="typecho-table-select-all" /></label>
                                <div class="btn-group btn-drop">
                                    <button class="btn dropdown-toggle btn-s" type="button"><i class="sr-only">操作</i>选中项 <i class="i-caret-down"></i></button>
                                    <ul class="dropdown-menu">
                                        <li><a href="http://localhost/index.php/action/comments-edit?do=approved&_=5603d8f8f2111e98779e2cb5cfc85af2">通过</a></li>
                                        <li><a href="http://localhost/index.php/action/comments-edit?do=waiting&_=5603d8f8f2111e98779e2cb5cfc85af2">待审核</a></li>
                                        <li><a href="http://localhost/index.php/action/comments-edit?do=spam&_=5603d8f8f2111e98779e2cb5cfc85af2">标记垃圾</a></li>
                                        <li><a lang="你确认要删除这些评论吗?" href="http://localhost/index.php/action/comments-edit?do=delete&_=5603d8f8f2111e98779e2cb5cfc85af2">删除</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="search" role="search">
                                <input type="text" class="text-s" placeholder="请输入关键字" value="" onclick="value = ''; name = 'keywords';" />
                                <button type="submit" class="btn btn-s">筛选</button>
                            </div>
                        </form>
                    </div>
                    <!-- end .typecho-list-operate -->

                    <form method="post" name="manage_comments" class="operate-form">
                        <div class="typecho-table-wrap">
                            <table class="typecho-list-table">
                                <colgroup>
                                    <col width="3%" />
                                    <col width="6%" />
                                    <col width="20%" />
                                    <col width="71%" />
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th></th>
                                        <th>作者</th>
                                        <th></th>
                                        <th>内容</th>
                                    </tr>
                                </thead>
                                <tbody>

                                    <tr id="comment-1" data-comment="{&quot;author&quot;:&quot;Typecho&quot;,&quot;mail&quot;:null,&quot;url&quot;:&quot;http:\/\/typecho.org&quot;,&quot;ip&quot;:&quot;127.0.0.1&quot;,&quot;type&quot;:&quot;comment&quot;,&quot;text&quot;:&quot;\u6b22\u8fce\u52a0\u5165 Typecho \u5927\u5bb6\u65cf&quot;}">
                                        <td valign="top">
                                            <input type="checkbox" value="1" name="coid[]" />
                                        </td>
                                        <td valign="top">
                                            <div class="comment-avatar">
                                                <img class="avatar" src="http://www.gravatar.com/avatar/?s=40&amp;r=G&amp;d=" alt="Typecho" width="40" height="40" />
                                            </div>
                                        </td>
                                        <td valign="top" class="comment-head">
                                            <div class="comment-meta">
                                                <strong class="comment-author"><a href="http://typecho.org" rel="external nofollow">Typecho</a></strong>
                                                <br />
                                                <span>127.0.0.1</span>
                                            </div>
                                        </td>
                                        <td valign="top" class="comment-body">
                                            <div class="comment-date">昨天 23:39 于 <a href="http://localhost/index.php/archives/1/#comment-1">欢迎使用 Typecho</a></div>
                                            <div class="comment-content">
                                                <p>欢迎加入 Typecho 大家族</p>
                                            </div>
                                            <div class="comment-action hidden-by-mouse">
                                                <span class="weak">通过</span>

                                                <a href="http://localhost/index.php/action/comments-edit?do=waiting&coid=1&_=5603d8f8f2111e98779e2cb5cfc85af2" class="operate-waiting">待审核</a>

                                                <a href="http://localhost/index.php/action/comments-edit?do=spam&coid=1&_=5603d8f8f2111e98779e2cb5cfc85af2" class="operate-spam">垃圾</a>

                                                <a href="#comment-1" rel="http://localhost/index.php/action/comments-edit?do=edit&coid=1&_=5603d8f8f2111e98779e2cb5cfc85af2" class="operate-edit">编辑</a>

                                                <a href="#comment-1" rel="http://localhost/index.php/action/comments-edit?do=reply&coid=1&_=5603d8f8f2111e98779e2cb5cfc85af2" class="operate-reply">回复</a>

                                                <a lang="你确认要删除Typecho的评论吗?" href="http://localhost/index.php/action/comments-edit?do=delete&coid=1&_=5603d8f8f2111e98779e2cb5cfc85af2" class="operate-delete">删除</a>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <!-- end .typecho-list-table -->
                        </div>
                        <!-- end .typecho-table-wrap -->

                    </form>
                    <!-- end .operate-form -->

                    <div class="typecho-list-operate clearfix">
                        <form method="get">
                            <div class="operate">
                                <label><i class="sr-only">全选</i><input type="checkbox" class="typecho-table-select-all" /></label>
                                <div class="btn-group btn-drop">
                                    <button class="btn dropdown-toggle btn-s" type="button"><i class="sr-only">操作</i>选中项 <i class="i-caret-down"></i></button>
                                    <ul class="dropdown-menu">
                                        <li><a href="http://localhost/index.php/action/comments-edit?do=approved&_=5603d8f8f2111e98779e2cb5cfc85af2">通过</a></li>
                                        <li><a href="http://localhost/index.php/action/comments-edit?do=waiting&_=5603d8f8f2111e98779e2cb5cfc85af2">待审核</a></li>
                                        <li><a href="http://localhost/index.php/action/comments-edit?do=spam&_=5603d8f8f2111e98779e2cb5cfc85af2">标记垃圾</a></li>
                                        <li><a lang="你确认要删除这些评论吗?" href="http://localhost/index.php/action/comments-edit?do=delete&_=5603d8f8f2111e98779e2cb5cfc85af2">删除</a></li>
                                    </ul>
                                </div>
                            </div>
                            <ul class="typecho-pager">
                                <li class="current"><a href="http://localhost/admin/manage-comments.php?page=1">1</a></li>
                            </ul>
                        </form>
                    </div>
                    <!-- end .typecho-list-operate -->
                </div>
                <!-- end .typecho-list -->
            </div>
            <!-- end .typecho-page-main -->
        </div>
    </div>
    <div class="typecho-foot" role="contentinfo">
        <div class="copyright">
            <a href="http://typecho.org" class="i-logo-s">Typecho</a>
            <p>由 <a href="http://typecho.org">Typecho</a> 强力驱动, 版本 1.0 (14.10.10)</p>
        </div>
        <nav class="resource">
            <a href="http://docs.typecho.org">帮助文档</a> &bull;
       
            <a href="http://forum.typecho.org">支持论坛</a> &bull;
       
            <a href="https://github.com/typecho/typecho/issues">报告错误</a> &bull;
       
            <a href="http://extends.typecho.org">资源下载</a>
        </nav>
    </div>
    <script src="js/jquery.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/typecho.js"></script>
    <script>
        (function () {
            $(document).ready(function () {
                // 处理消息机制
                (function () {
                    var prefix = '86a9106ae65537651a8e456835b316ab',
                        cookies = {
                            notice: $.cookie(prefix + '__typecho_notice'),
                            noticeType: $.cookie(prefix + '__typecho_notice_type'),
                            highlight: $.cookie(prefix + '__typecho_notice_highlight')
                        },
                        path = '/';

                    if (!!cookies.notice && 'success|notice|error'.indexOf(cookies.noticeType) >= 0) {
                        var head = $('.typecho-head-nav'),
                            p = $('<div class="message popup ' + cookies.noticeType + '">'
                            + '<ul><li>' + $.parseJSON(cookies.notice).join('</li><li>')
                            + '</li></ul></div>'), offset = 0;

                        if (head.length > 0) {
                            p.insertAfter(head);
                            offset = head.outerHeight();
                        } else {
                            p.prependTo(document.body);
                        }

                        function checkScroll() {
                            if ($(window).scrollTop() >= offset) {
                                p.css({
                                    'position': 'fixed',
                                    'top': 0
                                });
                            } else {
                                p.css({
                                    'position': 'absolute',
                                    'top': offset
                                });
                            }
                        }

                        $(window).scroll(function () {
                            checkScroll();
                        });

                        checkScroll();

                        p.slideDown(function () {
                            var t = $(this), color = '#C6D880';

                            if (t.hasClass('error')) {
                                color = '#FBC2C4';
                            } else if (t.hasClass('notice')) {
                                color = '#FFD324';
                            }

                            t.effect('highlight', { color: color })
                                .delay(5000).slideUp(function () {
                                    $(this).remove();
                                });
                        });


                        $.cookie(prefix + '__typecho_notice', null, { path: path });
                        $.cookie(prefix + '__typecho_notice_type', null, { path: path });
                    }

                    if (cookies.highlight) {
                        $('#' + cookies.highlight).effect('highlight', 1000);
                        $.cookie(prefix + '__typecho_notice_highlight', null, { path: path });
                    }
                })();


                // 导航菜单 tab 聚焦时展开下拉菜单
                (function () {
                    $('#typecho-nav-list').find('.parent a').focus(function () {
                        $('#typecho-nav-list').find('.child').hide();
                        $(this).parents('.root').find('.child').show();
                    });
                    $('.operate').find('a').focus(function () {
                        $('#typecho-nav-list').find('.child').hide();
                    });
                })();


                if ($('.typecho-login').length == 0) {
                    $('a').each(function () {
                        var t = $(this), href = t.attr('href');

                        if ((href && href[0] == '#')
                            || /^http\:\/\/localhost\/admin\/.*$/.exec(href)
                                || /^http\:\/\/localhost\/index\.php\/action\/[_a-zA-Z0-9\/]+.*$/.exec(href)) {
                            return;
                        }

                        t.attr('target', '_blank');
                    });
                }
            });
        })();
</script>
    <script>
        (function () {
            $(document).ready(function () {
                $('.typecho-list-table').tableSelectable({
                    checkEl: 'input[type=checkbox]',
                    rowEl: 'tr',
                    selectAllEl: '.typecho-table-select-all',
                    actionEl: '.dropdown-menu a,button.btn-operate'
                });

                $('.btn-drop').dropdownMenu({
                    btnEl: '.dropdown-toggle',
                    menuEl: '.dropdown-menu'
                });
            });
        })();
</script>
    <script type="text/javascript">
        $(document).ready(function () {
            // 记住滚动条
            function rememberScroll() {
                $(window).bind('beforeunload', function () {
                    $.cookie('__typecho_comments_scroll', $('body').scrollTop());
                });
            }

            // 自动滚动
            (function () {
                var scroll = $.cookie('__typecho_comments_scroll');

                if (scroll) {
                    $.cookie('__typecho_comments_scroll', null);
                    $('html, body').scrollTop(scroll);
                }
            })();

            $('.operate-delete').click(function () {
                var t = $(this), href = t.attr('href'), tr = t.parents('tr');

                if (confirm(t.attr('lang'))) {
                    tr.fadeOut(function () {
                        rememberScroll();
                        window.location.href = href;
                    });
                }

                return false;
            });

            $('.operate-approved, .operate-waiting, .operate-spam').click(function () {
                rememberScroll();
                window.location.href = $(this).attr('href');
                return false;
            });

            $('.operate-reply').click(function () {
                var td = $(this).parents('td'), t = $(this);

                if ($('.comment-reply', td).length > 0) {
                    $('.comment-reply').remove();
                } else {
                    var form = $('<form method="post" action="'
                        + t.attr('rel') + '" class="comment-reply">'
                        + '<p><label for="text" class="sr-only">内容</label><textarea id="text" name="text" class="w-90 mono" rows="3"></textarea></p>'
                        + '<p><button type="submit" class="btn btn-s primary">回复</button> <button type="button" class="btn btn-s cancel">取消</button></p>'
                        + '</form>').insertBefore($('.comment-action', td));

                    $('.cancel', form).click(function () {
                        $(this).parents('.comment-reply').remove();
                    });

                    var textarea = $('textarea', form).focus();

                    form.submit(function () {
                        var t = $(this), tr = t.parents('tr'),
                            reply = $('<div class="comment-reply-content"></div>').insertAfter($('.comment-content', tr));

                        reply.html('<p>' + textarea.val() + '</p>');
                        $.post(t.attr('action'), t.serialize(), function (o) {
                            reply.html(o.comment.content)
                                .effect('highlight');
                        }, 'json');

                        t.remove();
                        return false;
                    });
                }

                return false;
            });

            $('.operate-edit').click(function () {
                var tr = $(this).parents('tr'), t = $(this), id = tr.attr('id'), comment = tr.data('comment');
                tr.hide();

                var edit = $('<tr class="comment-edit"><td> </td>'
                                + '<td colspan="2" valign="top"><form method="post" action="'
                                + t.attr('rel') + '" class="comment-edit-info">'
                                + '<p><label for="' + id + '-author">用户名</label><input class="text-s w-100" id="'
                                + id + '-author" name="author" type="text"></p>'
                                + '<p><label for="' + id + '-mail">电子邮箱</label>'
                                + '<input class="text-s w-100" type="email" name="mail" id="' + id + '-mail"></p>'
                                + '<p><label for="' + id + '-url">个人主页</label>'
                                + '<input class="text-s w-100" type="text" name="url" id="' + id + '-url"></p></form></td>'
                                + '<td valign="top"><form method="post" action="'
                                + t.attr('rel') + '" class="comment-edit-content"><p><label for="' + id + '-text">内容</label>'
                                + '<textarea name="text" id="' + id + '-text" rows="6" class="w-90 mono"></textarea></p>'
                                + '<p><button type="submit" class="btn btn-s primary">提交</button> '
                                + '<button type="button" class="btn btn-s cancel">取消</button></p></form></td></tr>')
                                .data('id', id).data('comment', comment).insertAfter(tr);

                $('input[name=author]', edit).val(comment.author);
                $('input[name=mail]', edit).val(comment.mail);
                $('input[name=url]', edit).val(comment.url);
                $('textarea[name=text]', edit).val(comment.text).focus();

                $('.cancel', edit).click(function () {
                    var tr = $(this).parents('tr');

                    $('#' + tr.data('id')).show();
                    tr.remove();
                });

                $('form', edit).submit(function () {
                    var t = $(this), tr = t.parents('tr'),
                        oldTr = $('#' + tr.data('id')),
                        comment = oldTr.data('comment');

                    $('form', tr).each(function () {
                        var items = $(this).serializeArray();

                        for (var i = 0; i < items.length; i++) {
                            var item = items[i];
                            comment[item.name] = item.value;
                        }
                    });

                    var html = '<strong class="comment-author">'
                        + (comment.url ? '<a target="_blank" href="' + comment.url + '">'
                        + comment.author + '</a>' : comment.author) + '</strong>'
                        + ('comment' != comment.type ? '<small>引用</small>' : '')
                        + (comment.mail ? '<br /><span><a href="mailto:' + comment.mail + '">'
                        + comment.mail + '</a></span>' : '')
                        + (comment.ip ? '<br /><span>' + comment.ip + '</span>' : '');

                    $('.comment-meta', oldTr).html(html)
                        .effect('highlight');
                    $('.comment-content', oldTr).html('<p>' + comment.text + '</p>');
                    oldTr.data('comment', comment);

                    $.post(t.attr('action'), comment, function (o) {
                        $('.comment-content', oldTr).html(o.comment.content)
                            .effect('highlight');
                    }, 'json');

                    oldTr.show();
                    tr.remove();

                    return false;
                });

                return false;
            });
        });
</script>
</body>
</html>
